<div class="loader-bg" *ngIf="showElement">
  <!-- <h3>Loading...</h3> -->
  <div class="loading-bar"></div>
</div>

<main class="smooth-fadein">
    <div style="position:fixed; width: 100%; height: 100vh;align-items: center;justify-content: center;">
        <!--Nav-->
        <nav class="scan-navbar theme-gradiant">
        <div class="container-fluid px-0">
            
         <div class="row m-0 w-100 d-flex align-items-center">    
            <div class="col-2 px-0 d-flex justify-content-start"> 
            <p align="center" class="icon-p"><a routerLink="/home"><i class="material-icons">arrow_back</i></a></p>       
            </div>     
         </div>

        </div>
        </nav>
        <!--#Nav-->
        
        <!--Center-->
        <div class="scan-centerdiv">  
        <section style="width: 100%; height: 100%">
        <div class="row m-0 w-100 h-100" style="position:relative">
          <zxing-scanner style="height:10px;position: fixed;" #scanner start="true" (scanSuccess)="handleQrCodeResult($event)" [formats]="['CODE_39', 'CODE_128', 'QR_CODE']"></zxing-scanner>
          <!-- <zxing-scanner (scanSuccess)="handleQrCodeResult($event)"></zxing-scanner> -->
        <!-- <zxing-scanner style="height:100%;position: fixed;" #scanner start="true" [device]="currentDevice" (scanSuccess)="handleQrCodeResult($event)" [formats]="['CODE_39', 'CODE_128', 'QR_CODE']"></zxing-scanner> -->
        <div style="position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items: center;justify-content: center;width:100%;overflow-y: hidden;">
            <div class="container-fluid px-4 exchage-card">        
                <!--card1-->
                    <div class="row m-0 mycard-details w-100">             
        
                            <div class="col-md-12 col-12 px-2">
                                <div class="card px-2">
                                  
                                    <div class="d-flex align-items-start justify-content-start h-100">
                                    <p class="mb-0 fs-16 text-white"> <i class="icon-bg theme-gradiant material-icons">account_circle</i></p>
                                    </div>
                                    <div class="contents pt-2">
                                      <h5 class="mb-0 fs-14">Name</h5> 
                                      <p class="mb-0"><span class="text-black-muted fs-12">Designation</span></p>
                                      <p class="mb-0"><span class="text-black-muted fs-12">Company</span></p>                        
                                        </div>
                                </div>
                            </div>             
        
                    </div>
                <!--#card1-->

                <!--Loader-->
                <div class="row m-0 mycard-details w-100 pd-30">         
            <div class="col-md-12 col-12">             

                  <!--Loader3-->
                  <div class="loader">
                    <div class="loader-wrap">
                      <div class="loader-dot loader-dot-one">
                        <div class="loader-dot-inner loader-1"></div>
                      </div>
                      <div class="loader-dot loader-dot-two">
                        <div class="loader-dot-inner loader-2"></div>
                      </div>
                      <div class="loader-dot loader-dot-three">
                        <div class="loader-dot-inner loader-3"></div>
                      </div>
                      <div class="loader-dot loader-dot-four">
                        <div class="loader-dot-inner loader-4"></div>
                      </div>
                      <!-- <div class="loader-dot loader-dot-five">
                        <div class="loader-dot-inner loader-5"></div>
                      </div> -->
                    </div>
                  </div>                
                <!--#Loader-->

                    </div>
                  </div>

                <!--card2-->
                <div class="row m-0 mycard-details w-100">             
        
                    <div class="col-md-12 col-12 px-2">
                        <div class="d-flex justify-content-start focus-topleft"><img src="assets/images/focus-topleft.png" style="width:40%"></div>
                        <div class="d-flex justify-content-end focus-topright"><img src="assets/images/focus-topright.png" style="width:40%"></div>
                        <div class="d-flex justify-content-start focus-bottomleft"><img src="assets/images/focus-bottomleft.png" style="width:40%"></div>
                        <div class="d-flex justify-content-end focus-bottomright"><img src="assets/images/focus-bottomright.png" style="width:40%"></div>
                        <div class="card px-3 mt-2">

                          <div class="row m-0 w-100">
                            <div class="col-7 px-0">
                                    <div class="">
                                    <p class="mb-0 fs-16 text-white"> <i class="icon-bg theme-gradiant material-icons">account_circle</i></p>
                                    </div>
                                    <div class="contents pt-2">
                                      <h5 class="mb-0 fs-14">Receiving contact</h5> 
                                      <p class="mb-0 pt-1"><span class="text-black-muted fs-12">Align camera with card</span></p>                                                          
                                    </div>
                            </div>

                            <div class="col-5 d-flex align-items-center px-0">
                              <div class="mb-0 pt-1" align="right">
                                <!-- <zxing-scanner style="height:100%;width:110px;" #scanner start="true" (scanSuccess)="handleQrCodeResult($event)" [formats]="['CODE_39', 'CODE_128', 'QR_CODE']"></zxing-scanner> -->
                              </div>
                            <!-- <p class="mb-0 pt-1" align="right"><img src="assets/images/qrcode.jpg" style="width: 110px"></p> -->
                            </div>

                           </div>   
                           

                        </div>
                    </div>             

                </div>
                <!--#card2-->
             
        
                </div>
        </div>
        </div>
        </section>       
        </div>
        <!--#Center-->
        <div class="text-center pt-3">
          <p class="text-danger" *ngIf="ex_alart_t">Exchange Card Already Saved</p>
          <p class="text-success" *ngIf="ex_alart_f">Exchange Card Saved Successfully</p>

          <p class="text-danger" *ngIf="se_alart_t">Card Already Saved</p>
          <p class="text-success" *ngIf="se_alart_f">Card Saved Successfully</p>
        </div>
        <!--Bottom footer-->
        <div class="scan-footer">
          
        <div class="h-100" align="center">   

        <!-- <div align="center"><p class="scan-line" align="center"></p></div> -->
        
        <div class="col-12 pt-2">

          <div class="row m-0" align="left">
            <form #codeForms="ngForm">
            <div class="col-6 px-0" align="left">                                   
                 <p class="text-black-muted fs-14 mb-0">Enter code</p>
                 <div class="form-group pin-container d-flex">
                    <div><input class="form-control" type="tel" appNumberOnly id="pin1" #pin1 maxlength="1" style="background: #fff; padding: 0;" name="pin1" for="pin1" [(ngModel)]="enterd_code.pin1" required  autocomplete="off" (keyup)="move($event,'',pin1, pin2)"></div>
                    <div><input class="form-control" type="tel" appNumberOnly id="pin2" #pin2 maxlength="1" style="background: #fff; padding: 0;" name="pin2" for="pin2" [(ngModel)]="enterd_code.pin2" required  autocomplete="off" (keyup)="move($event,pin1,pin2, pin3)"></div>
                    <div><input class="form-control" type="tel" appNumberOnly id="pin3" #pin3 maxlength="1" style="background: #fff; padding: 0;" name="pin3" for="pin3" [(ngModel)]="enterd_code.pin3" required  autocomplete="off" (keyup)="move($event,pin2,pin3, pin4)"></div>
                    <div class="ml-2"><input class="form-control" type="tel" appNumberOnly #pin4 id="pin4" maxlength="1" style="background: #fff; padding: 0;" name="pin4" for="pin4" [(ngModel)]="enterd_code.pin4" required  autocomplete="off" (keyup)="move($event, pin3, pin4, pin5)"></div>
                    <div><input class="form-control" type="tel" appNumberOnly id="pin5" #pin5 maxlength="1" style="background: #fff; padding: 0;" name="pin5" for="pin5" [(ngModel)]="enterd_code.pin5" required  autocomplete="off" (keyup)="move($event,pin4, pin5, pin6)"></div>
                    <div><input class="form-control" type="tel" appNumberOnly id="pin6" #pin6 maxlength="1" style="background: #fff; padding: 0;" name="pin6" for="pin6" [(ngModel)]="enterd_code.pin6" required  autocomplete="off" (keyup)="move($event,pin5, pin6, '')"></div>
                  </div>
                  
            </div>
            
        

            <div class="col-12 px-0 scan-bt-text mt-2 d-flex" align="left">
                <!-- <a routerLink="/save-card">  -->
                  <button class="button-link mr-0" (click)="savecontact()" [disabled]="!codeForms.valid" > <span style="font-size:14px!important"><i class="material-icons fs-20 pr-1"> done </i>Confirm code </span>
                  
                  </button><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="btnloder"></span>
                  <!-- <span style="font-size:14px!important;font-weight: 400;"><i class="material-icons fs-20 pr-1"> done </i>Confirm code</span> -->
                <!-- </a> -->
                <div class="pt-1 pl-3"><p *ngIf="pininvalid" class="text-danger">! invalid code</p> </div>
            </div>

            </form>

          </div>

            <p class="scan-bt-text mb-0 fs-11">To receive a card you must</p>            
            <p class="scan-bt-text mb-0 fs-11">Scan the QRcode or</p>
            <p class="scan-bt-text mb-1 fs-11">Enter the 6 digit code</p>
           
        
        </div>

        </div>
        </div>
        <!--#Bottom footer-->  
        </div>
        
</main>





   